import{aA as m,C as A,aB as F,O as H,aC as q,aD as M,aE as D,aF as _,aG as J,aH as T,aI as K,aJ as P,o as N,a2 as V,aK as $,H as j,J as B,aL as z,aM as I,a3 as G}from"./DyF8ZKxn.js";function ne(e={}){const{inheritAttrs:t=!0}=e,u=m(),d=A({setup(s,{slots:c}){return()=>{u.value=c.default}}}),i=A({inheritAttrs:t,props:e.props,setup(s,{attrs:c,slots:a}){return()=>{var n;u.value;const o=(n=u.value)==null?void 0:n.call(u,{...e.props==null?U(c):s,$slots:a});return t&&(o==null?void 0:o.length)===1?o[0]:o}}});return F({define:d,reuse:i},[d,i])}function U(e){const t={};for(const u in e)t[D(u)]=e[u];return t}const W=_?window:void 0,k=_?window.navigator:void 0;function Y(e){var t;const u=M(e);return(t=u==null?void 0:u.$el)!=null?t:u}function C(...e){const t=[],u=()=>{t.forEach(a=>a()),t.length=0},d=(a,n,o,l)=>(a.addEventListener(n,o,l),()=>a.removeEventListener(n,o,l)),i=H(()=>{const a=T(M(e[0])).filter(n=>n!=null);return a.every(n=>typeof n!="string")?a:void 0}),s=K(()=>{var a,n;return[(n=(a=i.value)==null?void 0:a.map(o=>Y(o)))!=null?n:[W].filter(o=>o!=null),T(M(i.value?e[1]:e[0])),T(j(i.value?e[2]:e[1])),M(i.value?e[3]:e[2])]},([a,n,o,l])=>{if(u(),!(a!=null&&a.length)||!(n!=null&&n.length)||!(o!=null&&o.length))return;const v=$(l)?{...l}:l;t.push(...a.flatMap(h=>n.flatMap(y=>o.map(g=>d(h,y,g,v)))))},{flush:"post"}),c=()=>{s(),u()};return P(u),c}function Q(){const e=m(!1),t=V();return t&&N(()=>{e.value=!0},t),e}function R(e){const t=Q();return H(()=>(t.value,!!e()))}function L(e,t={}){const{controls:u=!1,navigator:d=k}=t,i=R(()=>d&&"permissions"in d),s=m(),c=typeof e=="string"?{name:e}:e,a=m(),n=()=>{var l,v;a.value=(v=(l=s.value)==null?void 0:l.state)!=null?v:"prompt"};C(s,"change",n,{passive:!0});const o=J(async()=>{if(i.value){if(!s.value)try{s.value=await d.permissions.query(c)}catch{s.value=void 0}finally{n()}if(u)return G(s.value)}});return o(),u?{state:a,isSupported:i,query:o}:a}function oe(e={}){const{navigator:t=k,read:u=!1,source:d,copiedDuring:i=1500,legacy:s=!1}=e,c=R(()=>t&&"clipboard"in t),a=L("clipboard-read"),n=L("clipboard-write"),o=H(()=>c.value||s),l=m(""),v=m(!1),h=q(()=>v.value=!1,i,{immediate:!1});async function y(){let p=!(c.value&&w(a.value));if(!p)try{l.value=await t.clipboard.readText()}catch{p=!0}p&&(l.value=x())}o.value&&u&&C(["copy","cut"],y,{passive:!0});async function g(p=M(d)){if(o.value&&p!=null){let f=!(c.value&&w(n.value));if(!f)try{await t.clipboard.writeText(p)}catch{f=!0}f&&b(p),l.value=p,v.value=!0,h.start()}}function b(p){const f=document.createElement("textarea");f.value=p??"",f.style.position="absolute",f.style.opacity="0",document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()}function x(){var p,f,E;return(E=(f=(p=document==null?void 0:document.getSelection)==null?void 0:p.call(document))==null?void 0:f.toString())!=null?E:""}function w(p){return p==="granted"||p==="prompt"}return{isSupported:o,text:l,copied:v,copy:g}}function ae(e,t,u={}){const{root:d,rootMargin:i="0px",threshold:s=0,window:c=W,immediate:a=!0}=u,n=R(()=>c&&"IntersectionObserver"in c),o=H(()=>{const g=M(e);return T(g).map(Y).filter(z)});let l=I;const v=m(a),h=n.value?B(()=>[o.value,Y(d),v.value],([g,b])=>{if(l(),!v.value||!g.length)return;const x=new IntersectionObserver(t,{root:Y(b),rootMargin:i,threshold:s});g.forEach(w=>w&&x.observe(w)),l=()=>{x.disconnect(),l=I}},{immediate:a,flush:"post"}):I,y=()=>{l(),h(),v.value=!1};return P(y),{isSupported:n,isActive:v,pause(){l(),v.value=!1},resume(){v.value=!0},stop:y}}const Z={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ee(e={}){const{type:t="page",touch:u=!0,resetOnTouchEnds:d=!1,initialValue:i={x:0,y:0},window:s=W,target:c=s,scroll:a=!0,eventFilter:n}=e;let o=null,l=0,v=0;const h=m(i.x),y=m(i.y),g=m(null),b=typeof t=="function"?t:Z[t],x=r=>{const X=b(r);o=r,X&&([h.value,y.value]=X,g.value="mouse"),s&&(l=s.scrollX,v=s.scrollY)},w=r=>{if(r.touches.length>0){const X=b(r.touches[0]);X&&([h.value,y.value]=X,g.value="touch")}},p=()=>{if(!o||!s)return;const r=b(o);o instanceof MouseEvent&&r&&(h.value=r[0]+s.scrollX-l,y.value=r[1]+s.scrollY-v)},f=()=>{h.value=i.x,y.value=i.y},E=n?r=>n(()=>x(r),{}):r=>x(r),O=n?r=>n(()=>w(r),{}):r=>w(r),S=n?()=>n(()=>p(),{}):()=>p();if(c){const r={passive:!0};C(c,["mousemove","dragover"],E,r),u&&t!=="movement"&&(C(c,["touchstart","touchmove"],O,r),d&&C(c,"touchend",f,r)),a&&t==="page"&&C(s,"scroll",S,r)}return{x:h,y,sourceType:g}}function se(e,t={}){const{handleOutside:u=!0,window:d=W}=t,i=t.type||"page",{x:s,y:c,sourceType:a}=ee(t),n=m(e??(d==null?void 0:d.document.body)),o=m(0),l=m(0),v=m(0),h=m(0),y=m(0),g=m(0),b=m(!0);let x=()=>{};return d&&(x=B([n,s,c],()=>{const w=Y(n);if(!w||!(w instanceof Element))return;const{left:p,top:f,width:E,height:O}=w.getBoundingClientRect();v.value=p+(i==="page"?d.pageXOffset:0),h.value=f+(i==="page"?d.pageYOffset:0),y.value=O,g.value=E;const S=s.value-v.value,r=c.value-h.value;b.value=E===0||O===0||S<0||r<0||S>E||r>O,(u||!b.value)&&(o.value=S,l.value=r)},{immediate:!0}),C(document,"mouseleave",()=>b.value=!0,{passive:!0})),{x:s,y:c,sourceType:a,elementX:o,elementY:l,elementPositionX:v,elementPositionY:h,elementHeight:y,elementWidth:g,isOutside:b,stop:x}}export{C as a,ae as b,ne as c,oe as d,se as u};
