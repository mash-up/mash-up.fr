import{aN as M,aO as W,a6 as z,o as Y,aP as Q,J as C,aQ as T,r as P,aK as U,aE as q,aR as R,u as F,aS as D,a8 as K,aT as J,m as N,aU as O,aV as j,aW as X,z as Z,c as E,h as L,P as I,f as S,R as x,d as $,av as G,aX as ee,H as A,e as H,U as te,C as re,w as oe}from"#entry";import{a as se,b as ne}from"./tNIbupyf.js";import{_ as ie}from"./DlAUqK2U.js";function ae(t={}){const o=[];let a=-1;const e=(r=!1)=>({get(i,l,u){if(!r){const d=Reflect.get(i,l,u);if(typeof d<"u")return d;a++,o[a]=[]}return o[a].push({type:"get",key:l}),new Proxy(()=>{},e(!0))},apply(i,l,u){o[a].push({type:"apply",key:"",args:u})}});return{proxy:new Proxy(t||{},e()),stack:o}}function ce(t){const o={get(a,e,r){const i=Reflect.get(a,e,r);return typeof i=="object"?new Proxy(i,o):i},apply(a,e,r){Reflect.apply(a,e,r)}};return new Proxy(t,o)}function le(t,o){o.forEach(a=>{let e=t,r=t;a.forEach(({type:i,key:l,args:u})=>{i==="get"?(r=e,e=e[l]):i==="apply"&&(e=e.call(r,...u))})})}function ue(t){return t.key||t.src||(typeof t.innerHTML=="string"?t.innerHTML:"")}const de=["preconnect","dns-prefetch"];function pe(t,o,a){const e=typeof o=="string"?{src:o}:o,r=a||{},i=ue(e),l=t._scripts?.[i];if(l)return l.setupTriggerHandler(r.trigger),l;r.beforeInit?.();const u=n=>{s.status=n,t.hooks.callHook("script:updated",b)};M.forEach(n=>{const c=n,p=typeof e[c]=="function"?e[c].bind(r.eventContext):null;e[c]=g=>{u(n==="onload"?"loaded":n==="onerror"?"error":"loading"),p?.(g)}});const d={loaded:[],error:[]},f=new Set,m=(n,c,p)=>{if(!t.ssr){if(p?.key){const g=`${p?.key}:${p.key}`;if(f.has(g))return;f.add(g)}if(d[n]){const g=d[n].push(c);return()=>d[n]?.splice(g-1,1)}return c(s.instance),()=>{}}},w=new Promise(n=>{if(t.ssr)return;const c=g=>requestAnimationFrame(()=>n(g)),p=t.hooks.hook("script:updated",({script:g})=>{const h=g.status;if(g.id===i&&(h==="loaded"||h==="error")){if(h==="loaded")if(typeof r.use=="function"){const _=r.use();_&&c(_)}else c({});else h==="error"&&n(!1);p()}})}),s={_loadPromise:w,instance:!t.ssr&&r?.use?.()||null,proxy:null,id:i,status:"awaitingLoad",remove(){return s._triggerAbortController?.abort(),s._triggerPromises=[],s._warmupEl?.dispose(),s.entry?(s.entry.dispose(),s.entry=void 0,u("removed"),delete t._scripts?.[i],!0):!1},warmup(n){const{src:c}=e,p=!c.startsWith("/")||c.startsWith("//"),g=n&&de.includes(n);let h=c;if(!n||g&&!p)return;if(g){const y=new URL(c);h=`${y.protocol}//${y.host}`}const _={href:h,rel:n,crossorigin:typeof e.crossorigin<"u"?e.crossorigin:p?"anonymous":void 0,referrerpolicy:typeof e.referrerpolicy<"u"?e.referrerpolicy:p?"no-referrer":void 0,fetchpriority:typeof e.fetchpriority<"u"?e.fetchpriority:"low",integrity:e.integrity,as:n==="preload"?"script":void 0};return s._warmupEl=t.push({link:[_]},{head:t,tagPriority:"high"}),s._warmupEl},load(n){if(s._triggerAbortController?.abort(),s._triggerPromises=[],!s.entry){u("loading");const c={defer:!0,fetchpriority:"low"};e.src&&(e.src.startsWith("http")||e.src.startsWith("//"))&&(c.crossorigin="anonymous",c.referrerpolicy="no-referrer"),s.entry=t.push({script:[{...c,...e}]},r)}return n&&m("loaded",n),w},onLoaded(n,c){return m("loaded",n,c)},onError(n,c){return m("error",n,c)},setupTriggerHandler(n){if(s.status==="awaitingLoad")if((typeof n>"u"||n==="client")&&!t.ssr||n==="server")s.load();else if(n instanceof Promise){if(t.ssr)return;s._triggerAbortController||(s._triggerAbortController=new AbortController,s._triggerAbortPromise=new Promise(p=>{s._triggerAbortController.signal.addEventListener("abort",()=>{s._triggerAbortController=null,p()})})),s._triggerPromises=s._triggerPromises||[];const c=s._triggerPromises.push(Promise.race([n.then(p=>typeof p>"u"||p?s.load:void 0),s._triggerAbortPromise]).catch(()=>{}).then(p=>{p?.()}).finally(()=>{s._triggerPromises?.splice(c,1)}))}else typeof n=="function"&&n(s.load)},_cbs:d};w.then(n=>{n!==!1?(s.instance=n,d.loaded?.forEach(c=>c(n)),d.loaded=null):(d.error?.forEach(c=>c()),d.error=null)});const b={script:s};if(s.setupTriggerHandler(r.trigger),r.use){const{proxy:n,stack:c}=ae(t.ssr?{}:r.use()||{});s.proxy=n,s.onLoaded(p=>{le(p,c),s.proxy=ce(p)})}return!r.warmupStrategy&&(typeof r.trigger>"u"||r.trigger==="client")&&(r.warmupStrategy="preload"),r.warmupStrategy&&s.warmup(r.warmupStrategy),t._scripts=Object.assign(t._scripts||{},{[i]:s}),s}function fe(t,o){if(!o)return;const a=(e,r)=>{if(!t._cbs[e])return r(t.instance),()=>{};let i=t._cbs[e].push(r);const l=()=>{i&&(t._cbs[e]?.splice(i-1,1),i=null)};return T(l),l};t.onLoaded=e=>a("loaded",e),t.onError=e=>a("error",e),T(()=>{t._triggerAbortController?.abort()})}function ge(t,o){const a=typeof t=="string"?{src:t}:t,e=o||{},r=e?.head||W();e.head=r;const i=z();if(e.eventContext=i,i&&typeof e.trigger>"u")e.trigger=Y;else if(Q(e.trigger)){const u=e.trigger;let d;e.trigger=new Promise(f=>{d=C(u,m=>{m&&f(!0)},{immediate:!0}),T(()=>f(!1),!0)}).then(f=>(d?.(),f))}r._scriptStatusWatcher=r._scriptStatusWatcher||r.hooks.hook("script:updated",({script:u})=>{u._statusRef.value=u.status});const l=pe(r,a,e);return l._statusRef=l._statusRef||P(l.status),fe(l,i),new Proxy(l,{get(u,d,f){return Reflect.get(u,d==="status"?"_statusRef":d,f)}})}function ye(t){let o;return new Promise(a=>{o=ne(t,e=>{for(const r of e)r.isIntersecting&&a(!0)},{rootMargin:"30px 0px 0px 0px",threshold:0}),q(()=>a(!1))}).finally(()=>{o.stop()})}function me(t){const{el:o,trigger:a}=t,e=(Array.isArray(t.trigger)?t.trigger:[t.trigger]).filter(Boolean);if(!a||e.includes("immediate")||e.includes("onNuxtReady"))return"onNuxtReady";if(e.some(l=>["visibility","visible"].includes(l)))return o?ye(o):new Promise(()=>{});const r={},i=new Promise(l=>{const u=typeof o<"u"?o:document.body,d=se(u,e,()=>{d(),l(!0)},{once:!0,passive:!0});U(()=>{C(u,f=>{f&&e.forEach(m=>{f.dataset[`script_${m}`]&&(d(),l(!0))})},{immediate:!0})}),q(()=>l(!1))});return Object.assign(i,{ssrAttrs:r})}function he(){return N().public["nuxt-scripts"]}function be(t){return t.key||t.src||(typeof t.innerHTML=="string"?t.innerHTML:"")}function we(t,o){t=typeof t=="string"?{src:t}:t,o=R(o,he()?.defaultScriptOptions);const a=String(be(t)),e=F();if(o.head=o.head||D(),!o.head)throw new Error("useScript() has been called without Nuxt context.");e.$scripts=e.$scripts||K({}),e.$scripts?.[a];const r=o._validate?.();(o.trigger==="onNuxtReady"||o.trigger==="client")&&(o.warmupStrategy||(o.warmupStrategy="preload"),o.trigger==="onNuxtReady"&&(o.trigger=J));const i=ge(t,o),l=i.remove;i.remove=()=>(e.$scripts[a]=void 0,l());const u=i.load;return i.load=async()=>r?Promise.reject(r):u(),e.$scripts[a]=i,i}Object.freeze(Object.assign(()=>{},{__mock__:!0}));function _e(t){return(N().public.scripts||{})[t]}function ve(t,o,a){const e=_e(t),r=Object.assign(a||{},typeof e=="object"?e:{}),i=o(r,{scriptInput:r.scriptInput});let l=i.scriptInput;const u=r.scriptInput?.src,d=i.scriptInput?.src;if(u&&d&&typeof d=="string"&&typeof u=="string"){const s=O(d),b=O(u),n=j(s.search||""),c=j(b.search||""),p={...n,...c},g=b.href?.split("?")[0]||u;l={...i.scriptInput||{},src:X(g,p)}}const f=R(l,r.scriptInput,{key:t}),m=Object.assign(r?.scriptOptions||{},i.scriptOptions||{}),w=m.beforeInit;return m.beforeInit=()=>{w?.(),i.clientInit?.()},we(f,m)}function Pe(t){let o=Promise.resolve();const a=ve("youtubePlayer",()=>({scriptInput:{src:"https://www.youtube.com/iframe_api",crossorigin:!1},scriptOptions:{use(){return{YT:window.YT||o.then(()=>window.YT)}}},clientInit:()=>{o=new Promise(e=>{window.onYouTubeIframeAPIReady=e})}}),t);{const e=C(a.status,r=>{r==="loading"&&(Z({link:[{rel:"preconnect",href:"https://www.youtube-nocookie.com"},{rel:"preconnect",href:"https://www.google.com"},{rel:"preconnect",href:"https://googleads.g.doubleclick.net"},{rel:"preconnect",href:"https://static.doubleclick.net"}]}),e())})}return a}const Se={},ke={class:"sr-only","aria-label":"Loading...",role:"status"};function xe(t,o){return L(),E("div",ke)}const Ce=Object.assign(ie(Se,[["render",xe],["__scopeId","data-v-00b3e0b3"]]),{__name:"ScriptAriaLoadingIndicator"}),Ie={__name:"ScriptYouTubePlayer",props:{placeholderAttrs:{type:Object,required:!1},rootAttrs:{type:Object,required:!1},aboveTheFold:{type:Boolean,required:!1},trigger:{type:[String,Array,Boolean],required:!1,default:"mousedown"},videoId:{type:String,required:!0},playerVars:{type:null,required:!1,default:{autoplay:0,playsinline:1}},width:{type:Number,required:!1,default:640},height:{type:Number,required:!1,default:360},cookies:{type:Boolean,required:!1,default:!1},playerOptions:{type:null,required:!1},thumbnailSize:{type:String,required:!1,default:"hq720"},webp:{type:Boolean,required:!1,default:!0}},emits:["ready","state-change","playback-quality-change","playback-rate-change","error"],setup(t,{expose:o,emit:a}){const e=t,r=a,i=["onReady","onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange"],l=P(),u=P(),d=P(!1),f=me({trigger:e.trigger,el:l}),m=Pe({scriptOptions:{trigger:f}}),{onLoaded:w,status:s}=m,b=P();let n=!1;e.trigger==="mousedown"&&f instanceof Promise&&f.then(y=>{y&&(n=!0)}),Y(()=>{w(async y=>{const k=y.YT instanceof Promise?await y.YT:y.YT;await new Promise(v=>{typeof YT.Player>"u"?k.ready(v):v()}),b.value=new YT.Player(u.value,{host:e.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com",...e,...e.playerOptions,events:Object.fromEntries(i.map(v=>[v,V=>{const B=v.replace(/([A-Z])/g,"-$1").replace("on-","").toLowerCase();r(B,V),v==="onReady"&&(d.value=!0,n&&(b.value?.playVideo(),n=!1),C(()=>e.videoId,()=>{b.value?.loadVideoById(e.videoId)}))}]))})}),C(s,y=>{y==="error"&&r("error")})}),o({player:b});const c=I(()=>R(e.rootAttrs,{"aria-busy":s.value==="loading","aria-label":s.value==="awaitingLoad"?"YouTube Player - Placeholder":s.value==="loading"?"YouTube Player - Loading":"YouTube Player - Loaded","aria-live":"polite",role:"application",style:{cursor:"pointer",position:"relative",backgroundColor:"black",width:"100%",aspectRatio:`${e.width}/${e.height}`},...f instanceof Promise?f.ssrAttrs||{}:{}})),p=I(()=>`https://i.ytimg.com/vi/${e.videoId}/hqdefault.jpg`),g=I(()=>`https://i.ytimg.com/${e.webp?"vi_webp":"vi"}/${e.videoId}/${e.thumbnailSize}.${e.webp?"webp":"jpg"}`),h=P(!1),_=I(()=>R(e.placeholderAttrs,{src:h.value?p.value:g.value,alt:"",loading:e.aboveTheFold?"eager":"lazy",style:{width:"100%",objectFit:"contain",height:"100%"},onLoad(y){const k=y.target;k.naturalWidth===120&&k.naturalHeight===90&&(h.value=!0)}}));return(y,k)=>(L(),E("div",te({ref_key:"rootEl",ref:l},c.value),[S("div",{ref_key:"youtubeEl",ref:u,style:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}},null,512),d.value?$("",!0):x(y.$slots,"placeholder",{key:0,placeholder:g.value},()=>[S("img",G(ee(_.value)),null,16)]),A(s)==="loading"?x(y.$slots,"loading",{key:1},()=>[H(Ce)]):$("",!0),A(s)==="awaitingLoad"?x(y.$slots,"awaitingLoad",{key:2}):A(s)==="error"?x(y.$slots,"error",{key:3}):$("",!0),x(y.$slots,"default")],16))}},Re={class:"flex items-center justify-center"},$e=re({__name:"YoutubeVideo",props:["id"],setup(t){const o=t;return(a,e)=>{const r=Ie;return L(),E("div",Re,[H(r,{ref:"video","above-the-fold":"","video-id":o.id},{awaitingLoad:oe(()=>[...e[0]||(e[0]=[S("div",{class:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 h-[48px] w-[68px]"},[S("svg",{height:"100%",version:"1.1",viewBox:"0 0 68 48",width:"100%"},[S("path",{d:"M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z",fill:"#f00"}),S("path",{d:"M 45,24 27,14 27,34",fill:"#fff"})])],-1)])]),_:1},8,["video-id"])])}}}),Le=Object.assign($e,{__name:"YoutubeVideo"});export{Le as default};
